#!/bin/sh
# super duper screenSHOTer

PADDING=50

case "$1" in
    -s)
      maim -s -u -m 10 | xclip -sel clip -t image/png
      ;;
    -d)
      maim -s -u -m 10 "$HOME/usr/med/pic/scr/$(date +'%a_%I:%M').png"
      ;;
    -p)
      id=$(slw) &&
          wattr xywhb "$id" | {
            read -r x y w h b

            w=$((w + PADDING * 2))
            h=$((h + PADDING * 2))
            x=$((x - PADDING + b))
            y=$((y - PADDING + b))

            cur=$(date +%F_%H-%M-%S)

            maim -m 10 -u -g "${w}x${h}+$x+$y" | xclip -selection clipboard -t image/png
        }
       ;;
    -c)
      maim -m 10 -u "$HOME/$(date +'%a_%I:%M').png"
      ;;
esac
