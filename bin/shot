#!/bin/sh
# super duper screenSHOTer

PADDING=50 # the amount of padding for -p flag

case "$1" in

    -s)

        # take a screenshot with selection and copy to clipboard
        maim -s -u -m 10 | xclip -sel clip -t image/png
        ;;

    -d)

        # take a screnshot with selection and save to scrots folder
        maim -s -u -m 10 "$HOME/usr/med/pic/scr/$(date +'%a_%I:%M').png"
        ;;

    -p)

        # take a screenshot with padding and save to clipboard
        id=$(slw) &&
            wattr xywhb "$id" | {
                read -r x y w h b

                w=$((w + PADDING * 2))
                h=$((h + PADDING * 2))
                x=$((x - PADDING + b))
                y=$((y - PADDING + b))

                cur=$(date +%F_%H-%M-%S)

                maim -m 10 -u -g "${w}x${h}+$x+$y" | xclip -selection clipboard -t image/png
            }
        ;;

    -c)

        # take full desktop screenshot and save to home
        maim -m 10 -u "$HOME/$(date +'%a_%I:%M').png"
        ;;

esac
