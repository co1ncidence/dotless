#!/bin/dash
#
# Stupid Script that updates my dotfiles
#

msg="$(date)"

cp -r ~/etc/ ~/git/dotless/
rm -rf ~/git/dotless/etc/nvim/plugged/
rm -rf ~/git/dotless/etc/nvim/spell/
cp -r ~/usr/bin/ ~/git/dotless/
cp -r ~/var/themes/graywindow/ ~/git/dotless/var/themes/
cd ~/git/dotless/
rm -rf \
	etc/ranger/colorschemes/  \
	etc/user-dirs.locale \
	etc/user-dirs.dirs   \
	etc/pavucontrol.ini  \
	etc/QtProject.conf   \
	etc/zsh/.zshrc.zni   \
	etc/zsh/.zcompdump   \
	etc/mimeapps.list    \
	etc/zsh/.histfile    \
	etc/youtube-dlg/  \
	etc/libreoffice/  \
	etc/MusicBrainz/  \
	etc/configstore/  \
	etc/keepassxc/    \
	bin/templates/    \
	etc/skanliterc    \
	etc/qalculate/    \
	etc/inkscape/     \
	etc/chromium/     \
	etc/.lesshst  \
	etc/gtk-2.0/  \
	etc/gtk-3.0/  \
	etc/manjaro/  \
	etc/Thunar/   \
	etc/pulse/    \
	etc/dconf/    \
	etc/gnupg/    \
	etc/xfce4/    \
	etc/gedit/    \
	etc/qt5ct/    \
	etc/procps    \
	etc/gconf     \
	etc/GIMP/     \
  etc/git/
rm -rf ~/git/dotless/bin/templates/
rm -rf ~/git/dotless/bin/classes/
rm -rf ~/git/dotless/bin/notmine/

[ -z "$1" ] && \
    msg="docs:update" || \
    msg="$1"

git add .
git commit -m "${msg}"
git push origin master
